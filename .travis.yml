---
language: go

go:
  - "1.10.x"
env:
  - GOPATH=$HOME/go
  - OLROOT=$GOPATH/src/github.com/Oneledger
addons:
  apt:
    update: true
    packages:
      - "python3"
      - "python3-pip"
before_install:
  - export GOPATH="$HOME/go:$GOPATH"
  - export PATH="$HOME/go/bin:$PATH"
  - sudo pip3 install ipaddr
  - sudo pip install ansible --upgrade

install:
  - cd $TRAVIS_BUILD_DIR/ansible && ansible-playbook main.yml -i 'host' --extra-vars "ip=35.190.178.102 reset_network=true"